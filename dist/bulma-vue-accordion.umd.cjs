(function(o,f){typeof exports=="object"&&typeof module<"u"?module.exports=f(require("vue"),require("mitt"),require("nanoid")):typeof define=="function"&&define.amd?define(["vue","mitt","nanoid"],f):(o=typeof globalThis<"u"?globalThis:o||self,o.BulmaVueSelect=f(o.vue,o.mitt,o.nanoid))})(this,function(o,f,_){"use strict";const r=f(),y=(e,c)=>{const n=e.__vccOpts||e;for(const[t,a]of c)n[t]=a;return n},b={name:"bv-accordions",props:{single:{default:!0,type:Boolean}},setup(e,{slots:c}){const n=[],t=c.default()[0].children.length,a=i=>{let l=n.reduce((h,m)=>m.id===i?h:(m.state=!1,[m.id,...h]),[]);r.emit("accordion.close",l)},g=({accordionId:i,state:l})=>{!e.single||!l||n.find(h=>h.id===i)&&a(i)},d=()=>{if(!e.single)return;let i=null;for(const l of n)if(i||(i=l.state?l.id:null),i)break;i&&a(i)},p=i=>{n.push(i),n.length===t&&d()};o.provide("registerChild",p),o.onMounted(()=>r.on("accordion.toggle",g)),o.onBeforeUnmount(()=>r.off("accordion.toggle"))}},B={class:"bv-accordions"};function E(e,c,n,t,a,g){return o.openBlock(),o.createElementBlock("section",B,[o.renderSlot(e.$slots,"default")])}const w=y(b,[["render",E]]),k={data:{baseIconClass:"fas",openClass:"fa-minus",closedClass:"fa-plus",openComponent:null,closedComponent:null},getOptions(){return this.data},setOptions(e){for(const c in e)Object.hasOwn(this.data,c)&&(this.data[c]=e[c])},setOption(e,c){Object.hasOwn(this.data,e)&&(this.data[e]=c)}},u={name:"bv-accordion",props:{togglable:{type:Boolean,default:!0},open:{type:Boolean,default:!1}},emits:["toggle"],setup(e,{emit:c}){const n=o.ref(e.open),t=_.nanoid(),a=o.inject("registerChild",null),g=async()=>{e.togglable&&(await o.nextTick(),n.value=!n.value,c("toggle",n.value),r.emit("accordion.toggle",{accordionId:t,state:n.value}))},d=async s=>{await o.nextTick(),n.value=s,c("toggle",n.value),r.emit("accordion.toggle",{accordionId:t,state:n.value})},p=async s=>{const C=getComputedStyle(s).width;s.style.width=C,s.style.position="absolute",s.style.visibility="hidden",s.style.height="auto";const j=getComputedStyle(s).height;s.style.width=null,s.style.position=null,s.style.visibility=null,s.style.height=0,getComputedStyle(s).height,await o.nextTick(),s.style.height=j},i=s=>{s.style.height="auto"},l=async s=>{const C=getComputedStyle(s).height;s.style.height=C,getComputedStyle(s).height,await o.nextTick(),s.style.height=0},h=s=>{!n.value||!e.togglable||!s.includes(t)||(n.value=!1)};r.on("accordion.close",h),a&&a({id:t,state:n.value}),o.onBeforeUnmount(()=>r.off("accordion.close")),o.watch(()=>e.open,s=>{s!==n.value&&g()});const m=k.getOptions();return{accordionId:t,state:n,toggle:g,trigger:d,enter:p,afterEnter:i,leave:l,options:m}}},V=["data-accordion-id"],N={class:"bv-accordion__header"},S={key:0,class:"icon"},O={key:0,class:"icon"},A={class:"bv-accordion__actions"},x={class:"bv-accordion__content content"};function T(e,c,n,t,a,g){return o.openBlock(),o.createElementBlock("section",{class:o.normalizeClass(["bv-accordion",{"bv-accordion--without-toggle":!n.togglable,"is-open":t.state}]),"data-accordion-id":t.accordionId},[o.createElementVNode("header",N,[n.togglable?(o.openBlock(),o.createElementBlock("div",{key:0,class:"bv-accordion__toggle",onClick:c[0]||(c[0]=(...d)=>t.toggle&&t.toggle(...d))},[t.state?(o.openBlock(),o.createElementBlock(o.Fragment,{key:0},[t.options.baseIconClass?(o.openBlock(),o.createElementBlock("span",S,[o.createElementVNode("i",{class:o.normalizeClass([t.options.baseIconClass,t.options.openClass])},null,2)])):o.createCommentVNode("",!0),t.options.openComponent?(o.openBlock(),o.createBlock(o.resolveDynamicComponent(t.options.openComponent),{key:1})):o.createCommentVNode("",!0)],64)):(o.openBlock(),o.createElementBlock(o.Fragment,{key:1},[t.options.baseIconClass?(o.openBlock(),o.createElementBlock("span",O,[o.createElementVNode("i",{class:o.normalizeClass([t.options.baseIconClass,t.options.closedClass])},null,2)])):o.createCommentVNode("",!0),t.options.closedComponent?(o.openBlock(),o.createBlock(o.resolveDynamicComponent(t.options.closedComponent),{key:1})):o.createCommentVNode("",!0)],64))])):o.createCommentVNode("",!0),o.createElementVNode("div",{class:"bv-accordion__title",onClick:c[1]||(c[1]=(...d)=>t.toggle&&t.toggle(...d))},[o.renderSlot(e.$slots,"title")]),o.createElementVNode("div",A,[o.renderSlot(e.$slots,"actions")])]),o.createVNode(o.Transition,{name:"bv-accordion-toggle",onEnter:t.enter,onAfterEnter:t.afterEnter,onLeave:t.leave},{default:o.withCtx(()=>[o.withDirectives(o.createElementVNode("article",x,[o.renderSlot(e.$slots,"content",{state:t.state})],512),[[o.vShow,t.state]])]),_:3},8,["onEnter","onAfterEnter","onLeave"])],10,V)}const I=y(u,[["render",T]]),q="";return(e,c)=>{k.setOptions(c),e.component("Accordion",I),e.component("Accordions",w)}});
//# sourceMappingURL=bulma-vue-accordion.umd.cjs.map
